# 미대톡 MVP 개발 태스크 목록

PRD(v2.0) 및 TRD(v2.0) 기반의 MVP 개발을 위한 전체 태스크 목록입니다. 의존성을 고려하여 순서대로 진행하는 것을 권장합니다.

---

### **Phase 1: 프로젝트 기반 설정 (Project & Backend Setup)**

*   [x] **Supabase 프로젝트 생성 및 초기 설정**
    *   [x] Supabase 신규 프로젝트 생성
    *   [x] API URL 및 `anon` 키 등 환경 변수 설정 (.env 파일에 설정 완료)
*   [x] **데이터베이스 스키마 정의 (TRD 3.0)**
    *   [x] `profiles` 테이블 생성 (id, created_at, name, role, is_verified) - `auth.users`와 연결
    *   [x] `posts` 테이블 생성 (id, created_at, title, description, image_url, user_id)
    *   [x] `feedback` 테이블 생성 (id, created_at, content, post_id, user_id)
    *   [x] `mentor_verifications` 관련 기능은 `profiles` 테이블에 `verification_document_url` 컬럼을 추가하여 구현함.
*   [x] **Supabase Storage 버킷 설정 (TRD 5.0)**
    *   [x] `artworks` 버킷 생성 (Public Access: `true`)
    *   [x] `verifications` 버킷 생성 (Public Access: `false`)
*   [x] **데이터베이스 트리거 설정 (TRD 4.F-01)**
    *   [x] `auth.users` 테이블에 신규 유저 추가 시, `public.profiles` 테이블에 프로필 정보를 자동으로 복사하는 트리거 함수 및 트리거 생성
*   [x] **Row Level Security (RLS) 정책 설정**
    *   [x] `posts`: 학생(student) 역할만 `INSERT` 할 수 있도록 정책 설정
    *   [x] `feedback`: 로그인한 모든 사용자가 `INSERT` 및 `SELECT` 할 수 있도록 정책 설정
    *   [ ] `mentor_verifications`: 멘토(mentor) 역할만 자신의 `user_id`로 `INSERT` 할 수 있도록 정책 설정
    *   [x] `artworks` 버킷: 학생 역할만 업로드(`INSERT`)할 수 있도록 스토리지 정책 설정
    *   [x] `verifications` 버킷: 멘토 역할만 자신의 `user_id` 경로에 업로드(`INSERT`)할 수 있도록 스토리지 정책 설정

---

### **Phase 2: 핵심 기능 구현 (Feature Implementation)**

#### **F-01: 역할 기반 계정 (의존성: Phase 1)**

*   [x] **UI 구현**
    *   [x] 회원가입 페이지 UI (`/signup`) - 이메일, 비밀번호, 이름, 역할('학생'/'멘토') 선택
    *   [x] 로그인 페이지 UI (`/login`) - 이메일, 비밀번호
    *   [x] 모든 페이지에 적용될 네비게이션 바/헤더 구현
        *   [x] 비로그인 시: 로그인/회원가입 버튼
        *   [x] 로그인 시: 프로필/로그아웃 버튼
*   [x] **로직 구현**
    *   [x] Supabase `signUp` 연동 (가입 시 `options.data`에 역할, 이름 전달)
    *   [x] Supabase `signIn` 연동
    *   [x] Supabase `signOut` 연동
    *   [x] 세션 상태에 따른 UI 조건부 렌더링 (로그인/비로그인)

#### **F-07: 멘토 인증 시스템 (의존성: F-01)**

*   [ ] **UI 구현**
    *   [ ] 프로필 페이지(`- /profile`) 내부에 인증 서류 업로드 폼 구현
    *   [ ] 해당 폼은 '멘토' 역할 사용자에게만 보이도록 조건부 렌더링
*   [ ] **로직 구현**
    *   [ ] 인증 서류(이미지, PDF)를 `verifications` 버킷에 업로드하는 기능
    *   [ ] 업로드 성공 시 `mentor_verifications` 테이블에 레코드 추가
*   [ ] **관리자 프로세스 문서화**
    *   [ ] README 또는 별도 문서에 Supabase 대시보드에서 멘토 인증을 수동으로 처리하는 절차 명시 (서류 확인 → `users` 테이블의 `is_verified` 값 `true`로 변경)

#### **F-06: 기본 프로필 (의존성: F-01, F-07)**

*   [ ] **UI 구현**
    *   [ ] 프로필 페이지(`- /profile`)에서 사용자 이름, 역할 표시
    *   [ ] `is_verified` 값이 `true`인 멘토에게 '인증 멘토' 배지 조건부 렌더링

#### **F-02: 작품 업로드 (의존성: F-01)**

*   [x] **UI 구현**
    *   [x] 작품 업로드 페이지 UI (`/upload`) - 제목, 설명, 이미지 파일 입력 폼
    *   [x] '학생' 역할 사용자에게만 업로드 페이지 접근 또는 업로드 버튼이 보이도록 처리
*   [x] **로직 구현**
    *   [x] 이미지 파일을 `artworks` 버킷에 업로드
    *   [x] 업로드된 이미지의 Public URL 생성
    *   [x] `posts` 테이블에 제목, 설명, 이미지 URL, 사용자 ID를 저장

#### **F-03: 작품 갤러리 (의존성: F-02)**

*   [ ] **UI 구현**
    *   [ ] 메인 페이지 (`/`)에 작품 목록을 그리드 레이아웃으로 표시
    *   [ ] 각 그리드 아이템 클릭 시 상세 페이지로 이동하는 링크 구현
    *   [ ] 작품 상세 페이지 UI (`/post/[id]`) - 작품 이미지, 제목, 설명 표시
*   [ ] **로직 구현**
    *   [ ] `posts` 테이블에서 모든 작품을 최신순(`created_at` 내림차순)으로 조회
    *   [ ] (심화) 무한 스크롤 또는 페이지네이션 구현
    *   [ ] 상세 페이지에서 `id`에 해당하는 특정 작품 데이터 조회

#### **F-04: 텍스트 피드백 (의존성: F-03)**

*   [ ] **UI 구현**
    *   [ ] 작품 상세 페이지 하단에 피드백(댓글) 목록 표시
    *   [ ] 피드백 작성자 이름, 역할, '인증 멘토' 배지 표시
    *   [ ] 피드백 작성을 위한 텍스트 입력 폼 구현
*   [ ] **로직 구현**
    *   [ ] 특정 `post_id`에 해당하는 모든 피드백을 `feedbacks` 테이블에서 조회 (작성자 정보 `JOIN`)
    *   [ ] 사용자가 폼 제출 시 `feedbacks` 테이블에 새로운 피드백 레코드 추가
    *   [ ] 피드백 제출 후 목록 자동 새로고침

#### **F-05: 개인 포트폴리오 (의존성: F-02)**

*   [ ] **UI 구현**
    *   [ ] 프로필 페이지 (`/profile`) 내부에 자신이 업로드한 작품 목록을 갤러리 형태로 표시
*   [ ] **로직 구현**
    *   [ ] `posts` 테이블에서 현재 로그인한 사용자의 `user_id`와 일치하는 작품만 조회

---

### **Phase 3: 스타일링 및 최종 검토**

*   [ ] **전역 스타일 적용**
    *   [ ] `globals.css` 및 Tailwind CSS 설정 (폰트, 기본 색상 등)
*   [ ] **컴포넌트별 스타일링**
    *   [ ] 버튼, 입력 폼, 카드 등 재사용 가능한 컴포넌트 스타일 통일
    *   [ ] 각 페이지(메인, 상세, 프로필 등) 레이아웃 및 디자인 완성
*   [ ] **반응형 디자인 검토**
    *   [ ] 모바일, 태블릿, 데스크탑 환경에서 레이아웃이 깨지지 않는지 확인
*   [ ] **기능 최종 테스트**
    *   [ ] 모든 사용자 흐름(학생/멘토 가입, 업로드, 피드백)을 처음부터 끝까지 테스트
